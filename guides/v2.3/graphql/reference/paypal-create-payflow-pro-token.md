---
group: graphql
title: createPayflowProToken mutation
---

The `createPayflowProToken` mutation initiates a PayFlowPro transaction and receives a token. The payload must contain the redirect URLs to use when the transaction is successful, when the customer cancels the transaction, or when an error occurs.

See [Paypal Payflow Pro payment method]({{page.baseurl}}/graphql/payment-methods/payflow-pro.html) for detailed information about the workflow of PayPal Payflow Pro transactions.

## Syntax

`createPayflowProToken(input: PayflowProTokenInput): PayflowProToken`

## Example

The following example requests a token in a Payflow Pro transaction.

**Request**

```text
mutation {
  createPayflowProToken(
    input: {
      cart_id: "Po1WkfK7d3vZE0qga610NwJIbxgqllpt"
      urls: {
        return_url: "http://localhost/paypal/return"
        cancel_url: "http://localhost/paypal/cancel"
        error_url: "http://localhost/paypal/error"
      }
    }
  ) {
    response_message
    result
    result_code
    secure_token
    secure_token_id
  }
}
```

**Response**

```json
{
  "data": {
    "createPayflowProToken": {
      "response_message": "Approved",
      "result": 0,
      "result_code": 0,
      "secure_token": "5JRGtIDsaJUuEPq0lR5m9ugqG",
      "secure_token_id": "H3roFRhGjKzxCKr5TlA8mooClBpQxgBY"
    }
  }
}
```

## Input attributes

The `createPayflowProToken` mutation requires the `cart_id` and a set of response URLs.

### PayflowProTokenInput object

The `PayflowProTokenInput` object must contain the following attributes:

Attribute |  Data Type | Description
--- | --- | ---
`cart_id` | String! | The unique ID that identifies the customer's cart
`urls` | PayflowProUrlInput! | A set of URLs that PayPal uses for callback

### PayflowProUrlInput object

The `PayflowProUrlInput` object must contain the following attributes:

Attribute |  Data Type | Description
--- | --- | ---
`cancel_url` | String! | The URL of the original page on your website where the buyer initially chose PayPal as  a payment type
`error_url` | String! | The URL of the page on your website where any error in the transaction is handled
`return_url` | String! | The URL of the final review page on your website where the buyer confirms the order and payment

## Output attributes

The `PayflowProToken` object contains the following attributes:

Attribute |  Data Type | Description
--- | --- | ---
`response_message` | String! | The **RESPMSG** returned by PayPal. If the `result` is `0`, the `response_message` is `Approved`
`result` | Int! | Contains a non-zero value if any errors occurred
`result_code` | Int! |  The **RESULT** returned by PayPal. A value of `0` indicates the transaction was approved
`secure_token` | String! | Secure token generated by PayPal
`secure_token_id` | String! | Secure token ID generated by PayPal
